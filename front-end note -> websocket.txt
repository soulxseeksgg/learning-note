Web socket (message broker ‡πÅ‡∏ö‡∏ö sigle node)
1.‡πÄ‡∏û‡∏¥‡πà‡∏° dependency
  ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÑ‡∏ü‡∏•‡πå POM.xml >> ‡πÑ‡∏™‡πà dependency project backend
   <dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-websocket</artifactId>
		</dependency>

2.‡πÄ‡∏û‡∏¥‡πà‡∏° WebSocketConfig
  ‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ package config > ‡πÑ‡∏ü‡∏•‡πå WebSocketConfig.java

  @Configuration
  @EnableWebSocketMessageBroker <<--‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏™‡∏±‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡∏°‡∏≤‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ STOM protocal
  public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {

    @Override
    public void configureMessageBroker(MessageBrokerRegistry registry) { <-- set prefix (prefix ‡∏Å‡πá‡∏Ñ‡∏∑‡∏≠ topic ‡∏ô‡∏±‡πâ‡∏ô‡πÅ‡∏´‡∏•‡∏∞)
        registry.enableSimpleBroker("/topic");   /// <<<< ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ map port 3679:3679 ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ port ‡∏ô‡∏µ‡πâ‡∏ô‡∏∞‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡πá‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô
    }

    @Override
    public void registerStompEndpoints(StompEndpointRegistry registry) {
        registry.addEndpoint("/socket")     //<<<< ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏ï‡πà‡∏≠ ‡πÄ‡∏ä‡πà‡∏ô = new WebSocket('ws://localhost:8080/socket');                 
                .setAllowedOriginPatterns("http://localhost*") << --- allow ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏¥‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤ endpoint ‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ (‡∏ã‡∏∂‡πà‡∏á‡∏°‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏ù‡∏±‡πà‡∏á server)
                .withSockJS();  //‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô sockjs ‡∏ñ‡πâ‡∏≤ websocket ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
    }
  }
 
 *note* STOMP (Simple Text Oriented Messaging Protocol) ‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏õ‡∏£‡πÇ‡∏ï‡∏Ñ‡∏≠‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (text-based protocol) ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ö‡∏ö message brokers ‡πÄ‡∏ä‡πà‡∏ô ActiveMQ, RabbitMQ, ‡∏´‡∏£‡∏∑‡∏≠ Spring WebSocket ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

‡∏∂3. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á Security         
   private final String[] PUBLIC = {
            "/actuator/**"
            ,"/user/register"
            ,"/user/login"
            ,"updateUserName"
            ,"/socket/**" <---- <<-- ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏¥‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á path socket ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡∏à‡∏∞‡∏ï‡πà‡∏≠‡∏°‡∏≤
            ,"/chat/message" <--- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤ API chat ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ token
    };


 3.1. ‡πÄ‡∏û‡∏¥‡πà‡∏° @Bean config // corsFilter ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏ï‡πà‡∏≤‡∏á‡πÇ‡∏î‡πÄ‡∏°‡∏ô (Cross-Origin Requests) ‡∏ß‡πà‡∏≤‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡πÑ‡∏´‡∏ô‡∏ö‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏°‡∏≤‡∏ó‡∏µ‡πà backend ‡πÑ‡∏î‡πâ (‡πÄ‡∏ä‡πà‡∏ô frontend ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏ô‡∏•‡∏∞‡πÇ‡∏î‡πÄ‡∏°‡∏ô)
                       //‡∏™‡πà‡∏ß‡∏ô security ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á API ‡∏ï‡∏£‡∏á‡πÜ ‡∏Ç‡∏≠‡∏á backend ‡πÇ‡∏î‡∏¢‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ß‡πà‡∏≤‡πÉ‡∏Ñ‡∏£‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á endpoint ‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö 
    public CorsFilter corsFilter(){
        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource(); <<--- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏≠‡∏≤‡∏ï‡∏±‡∏ß‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÄ‡∏£‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö reactive
        CorsConfiguration config = new CorsConfiguration();
        config.setAllowCredentials(true); <--- set Credentials (‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô true)
        config.addAllowedOrigin("http://localhost:4200"); <--- allow url ‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô Angular port 4200
        config.addAllowedHeader("*"); <--- ‡∏£‡∏±‡∏ö Header ‡∏ó‡∏∏‡∏Å‡∏≠‡∏±‡∏ô ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏ä‡πà‡∏ô Authorization
        config.addAllowedMethod("OPTIONS"); 
        config.addAllowedMethod("POST");
        config.addAllowedMethod("GET");   << --- ‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤ Option ‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á
        config.addAllowedMethod("PUT");
        config.addAllowedMethod("DELETE");
        source.registerCorsConfiguration("/**",config);  <<-- Filter ‡∏ó‡∏∏‡∏Å‡∏ó‡∏µ‡πà ‡∏î‡πâ‡∏ß‡∏¢ config ‡∏ô‡∏µ‡πâ
        return new CorsFilter(source); <<--- ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ return filter ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ
    }
   
4. ‡∏ó‡∏≥‡∏™‡πà‡∏ß‡∏ô API 

    ---- ‡∏™‡πà‡∏ß‡∏ô API ----
    @PostMapping("/message")
    public ResponseEntity<Void> chat(@RequestBody MChatMessageRequest request){
        chatBusiness.getMessage(request);
        return ResponseEntity.ok().build();
    }

    --- ‡∏™‡πà‡∏ß‡∏ô Business ----
@Service
public class ChatBusiness {
    
       private final SimpMessagingTemplate template; 
       public ChatBusiness(SimpMessagingTemplate template) { <<--- ‡πÉ‡∏ä‡πâ SimpMessagingTemplate ‡∏£‡∏±‡∏ö 
          this.template = template;
       }

        public void getMessage(MChatMessageRequest request){ //‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ vilidate ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡∏´‡∏¢‡∏≤‡∏ö‡πÑ‡∏´‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏∑‡πà‡∏ô‡πÜ
            String destination = "/topic/chat"; <<--- destination ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏±‡∏ö
            ChatMessage payload = new ChatMessage();
            payload.setFrom("userTest");
            payload.setMessage(request.getMessage());
            template.convertAndSend(destination,payload);
        }
}
   ----- ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á model ----
   ‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ packaeg model
@Data
public class ChatMessage {
    private String from;
    private String message;
    private Date created;

    public ChatMessage(){
        created = new Date();
    }

}

5. start program
  ‡πÄ‡∏ó‡∏™‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á websocket ‡∏ß‡πà‡∏≤‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏° ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°
  http://localhost:8080/socket >> ‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô Welcome to SockJS!


  -------start front-end------------------------------------------------------------
  ----------------------------------------------------------------------------------

  1.‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á NodeJs ‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö NodeJs ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô LTS ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô homebrew ‡∏Å‡πá‡πÑ‡∏î‡πâ (‡∏ä‡πâ‡∏≤‡∏™‡∏±‡∏™) brew install node@22 ‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏á‡πÅ‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏≠‡∏á‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡πá‡πÑ‡∏î‡πâ //‡∏•‡∏á nodejs ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á angular ‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ ‡πÇ‡∏î‡∏¢‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ú‡πà‡∏≤‡∏ô npm (Node Package Manager)
  2. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Angular cli
    ‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö Angular > get starter > setup
    ‡∏•‡∏á Angular ‡πÉ‡∏ä‡πâ command $ npm install -g @angular/cli   <<--- -g ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÄ‡∏•‡∏¢ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà folder ‡πÉ‡∏î‡πÜ
    //New minor version of npm available! 10.2.4 -> 10.8.3
  
  3. ‡∏™‡∏£‡πâ‡∏≤‡∏á project ‡πÉ‡∏´‡∏°‡πà cd ‡πÑ‡∏õ‡∏ó‡∏µ‡πà workspace
      ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á $ ng new frontend --no-standalone  //‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ --no-standalone ‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ , ng ‡∏Ñ‡∏∑‡∏≠ angular ‡∏ô‡∏∞‡∏ï‡πà‡∏≠‡∏¢‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£‡∏Ç‡∏≠‡∏á‡∏°‡∏∂‡∏á, ‡∏™‡πà‡∏ß‡∏ô npm ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö package
         - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å style ‡πÄ‡∏õ‡πá‡∏ô SCSS
         - ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ server-side ‡πÑ‡∏´‡∏° ‡πÉ‡∏ä‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ yes //‡∏°‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠ option process ‡πÉ‡∏´‡πâ render html ‡∏ó‡∏µ‡πà server user ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏£‡∏≤‡∏∞ render ‡∏£‡∏≠‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß

  4. ‡πÉ‡∏ä‡πâ VSCode ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πä‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô    
      4.1 ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á plugin:  ‡πÄ‡∏°‡∏ô‡∏π Code > Preferace > Extension> ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ Angular Language Service //‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏ï‡∏¥‡∏°‡πÇ‡∏Ñ‡πä‡∏î, ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô error .html ‡πÅ‡∏•‡∏∞ .ts ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ô, ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡πÄ‡∏°‡∏≤‡∏™‡πå‡∏ö‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö Angular ‡∏à‡∏∞‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠    
      4.2 ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Open Folder ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÄ‡∏£‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤
      4.3 ‡∏•‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏£‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏° ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÅ‡∏£‡∏Å ‡πÑ‡∏õ‡∏ó‡∏µ‡πà VSCode > Terminal > new Terminal
      4.4 ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á $ ng serve --open  << -- open ‡∏Ñ‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡∏£‡∏±‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏õ‡∏¥‡∏î browser ‡πÉ‡∏´‡πâ‡∏î‡πâ‡∏ß‡∏¢
          Hello, frontend
          Congratulations! Your app is running. üéâ  //‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏´‡∏î
      4.5 ‡∏õ‡∏¥‡∏î Server ‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô ‡πÉ‡∏ä‡πâ control + c  

  5. ‡∏™‡∏£‡πâ‡∏≤‡∏á component
     ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á ng generate component components/chat <<-- ‡∏™‡∏£‡πâ‡∏≤‡∏á component ‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ folder components ‡πÅ‡∏•‡∏∞ chat   
     ‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô project 
               .angular //‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ö‡∏≠‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡πÑ‡∏õ‡∏¢‡∏∏‡πà‡∏á‡πÄ‡∏•‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á angularCli ‡πÄ‡∏Ñ‡πâ‡∏≤
               .vscode //‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô config ‡∏Ç‡∏≠‡∏á vscode ‡∏ó‡∏µ‡πà config ‡∏û‡∏ß‡∏Å font ‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏≤‡∏Å‡πÅ‡∏Å‡πâ‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏á‡πà‡∏≤‡∏¢‡πÜ
               node_modules //‡πÄ‡∏Å‡πá‡∏ö‡∏û‡∏ß‡∏Å library (‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°) ‡∏Ç‡∏≠‡∏á angular ‡πÄ‡∏≠‡∏á‡πÅ‡∏•‡∏∞ dependency ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏ß‡πá‡∏ö ‡∏•‡πâ‡∏ß‡∏ô‡πÜ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ô‡∏µ‡πâ, ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏•‡∏ö‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå node_modules ‡πÑ‡∏õ‡∏î‡∏∑‡πâ‡∏≠‡πÜ ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏≠‡∏á‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á npm install
                 > src 
                > app 
                  > components/chat
                     chat.component.html << --- ‡∏°‡∏µ 4 ‡πÑ‡∏ü‡∏•‡πå
                     chat.component.scss
                     chat.component.spec.ts  << --- ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÄ‡∏ó‡∏™ ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á ng test
                     chat.component.ts
                app.component.html  <<--- file Ui ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å ‡∏ï‡πà‡∏≤‡∏á‡πÜ
                app.component.scss
                app.component.ts
                index.html
                app.module.ts  <<< ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á spring Application ‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô
                package.json <<-- ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö library ‡πÑ‡∏™‡πà version ‡πÅ‡∏ö‡∏ö ^ ‡πÄ‡∏õ‡πá‡∏ô version ‡∏ó‡∏µ‡πà‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏™‡∏°‡∏≠
                package-lock.json <<--- ‡∏°‡∏±‡∏ô‡πÄ‡∏•‡∏¢‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏Å‡πá‡∏ö version ‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô (‡∏´‡∏≤‡πÄ‡∏´‡πà‡∏≤‡πÑ‡∏™‡πà‡∏´‡∏±‡∏ß‡πÅ‡∏ó‡πâ‡πÜ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¢‡∏≤‡∏Å‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô) ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ß‡πâ‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô folder node_modules

  6. install library ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏á 3 ‡∏ï‡∏±‡∏ß‡∏•‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ sockjs, stompjs, net
      1.sockjs
      npm install sockjs-client --save-dev   <<---- ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡πÑ‡∏õ‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå package.json ‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ "sockjs-client": "^1.6.1",          
      
      2.@typs/sockjs
      npm install @types/sockjs-client --save-dev << --- --save ‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏é‡πÉ‡∏ô dependencies ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå package.json
      
      3.stompjs                                                    --save-dev ‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏é‡πÉ‡∏ô devDependencies ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå package.json
      npm install stompjs --save-dev

      4. type ‡∏Ç‡∏≠‡∏á stompjs
      npm install @types/stompjs --save-dev   <<--- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏£‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ npm install stompjs @types/stompjs --save-dev

      5. package ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô net
      npm install net

      6. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏•‡∏á‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏° ‡πÑ‡∏õ‡∏î‡∏π‡∏ó‡∏µ‡πà‡πÑ‡∏ü‡∏•‡πå package.json ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∞ 2 ‡∏ó‡∏µ‡πà ‡πÄ‡∏ä‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô sockjs, stompjs ‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡∏π ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡∏õ‡∏Å‡∏ï‡∏¥‡∏Å‡∏±‡∏ö @Type ‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏•‡∏¢‡∏°‡∏µ‡∏™‡∏≠‡∏á

  7. ‡∏•‡∏≠‡∏á‡∏£‡∏±‡∏ô server ‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà ‡∏•‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á plugin
     ng serve --open   <<<--- ‡∏£‡∏±‡∏ô‡πÑ‡∏î‡πâ ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ plugin ‡∏ú‡πà‡∏≤‡∏ô

  8.‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏ü‡∏•‡πå app.component.html ,app.component.ts

      import { Component } from '@angular/core';
      import { CommonModule } from '@angular/common';
      import { RouterOutlet } from '@angular/router';

      @Component({
        selector: 'app-root',                <<----‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å tag ‡∏ô‡∏µ‡πâ
        standalone: true,
        imports: [CommonModule, RouterOutlet],
        templateUrl: './app.component.html',  <<--- Ui ‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏ô
        styleUrl: './app.component.scss'      <<--- styleSheet ‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ
      })
      export class AppComponent {
        title = 'frontend';
      }

  9. clear html ‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÅ‡∏Ñ‡πà tag 
     <router-outlet></router-outlet>     

  10. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏´‡∏ô‡πâ‡∏≤ component chat (‡∏ï‡πà‡∏≤‡∏á component) ‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏Ç‡∏≠‡∏á html ‡∏´‡∏•‡∏±‡∏Å
      ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÑ‡∏ü‡∏•‡πå chat.component.ts
         selector: 'app-chat' <<--- ‡∏Å‡πâ‡∏≠‡∏õ‡∏õ‡∏µ‡πâ tag ‡∏Ç‡∏≠‡∏á compoenent ‡∏°‡∏≤

      ‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏ü‡∏•‡πå app.compoenent.html ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö tag ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô call ‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ
      <app-chat></app-chat>     << ‡πÅ‡∏õ‡∏∞‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ ‡∏•‡∏≠‡∏á‡∏£‡∏±‡∏ô‡∏î‡∏π ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô chat works! ‡∏ã‡∏∂‡πà‡∏á‡∏°‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ html ‡∏Ç‡∏≠‡∏á chat 

  11. ‡∏ó‡∏≥ reactive form 
      ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏´‡∏ô‡πâ‡∏≤ UI ‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ TypeScript  
      ‡πÄ‡∏ä‡πà‡∏ô‡πÉ‡∏ä‡πâ [FormControl]="name" ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Ui ‡∏û‡∏≠‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ .ts ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å this.name.setValue("gg"); ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢
  
    11.1 ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏´‡∏£‡∏∑‡∏≠ import reactiveForms ‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô ‡∏≠‡∏≤‡∏à‡∏à‡∏∞ search google ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö reactive "reactive form angular" ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏°‡∏µ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á import ‡∏≠‡∏∞‡πÑ‡∏£‡πÅ‡∏õ‡∏∞‡∏ï‡∏£‡∏á import ‡∏ï‡∏£‡∏á‡πÉ‡∏´‡∏ô

     ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÑ‡∏ü‡∏•‡πå app.module.ts ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏° import ‡∏Ç‡∏≠‡∏á feature ‡πÄ‡∏™‡∏£‡∏¥‡∏° ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏ä‡πà‡∏ô reactive ‡∏ô‡∏µ‡πâ‡πÅ‡∏´‡∏•‡∏∞
      
      ‡πÑ‡∏ü‡∏•‡πå app.module.ts
      #1 ‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Ñ‡∏∑‡∏≠‡πÅ‡∏õ‡∏∞ import FormControl ‡∏Å‡∏±‡∏ö ReactiveFormsModule ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô‡πÉ‡∏ä‡πâ class ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå html ‡∏Ç‡πâ‡∏≠ 11.3
      import { FormControl, ReactiveFormsModule } from '@angular/forms'; <<<--- ‡πÄ‡∏û‡∏¥‡πà‡∏° 1

      #2 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏™‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° ReactiveFormsModule ‡∏ï‡∏£‡∏á importes
      imports: [
        BrowserModule,
        AppRoutingModule,
        ReactiveFormsModule <<--- ‡πÄ‡∏û‡∏¥‡πà‡∏° 2 ‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ ReactiveFormsModule
      ],

    #‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏ü‡∏•‡πå chat.component ‡πÅ‡∏•‡πâ‡∏ß
    11.2 ‡πÉ‡∏ä‡πâ formGroup ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå chat.component.ts

      //‡∏ï‡πâ‡∏≠‡∏á import FormGroup ‡∏Å‡∏±‡∏ö Validators ‡∏Å‡πà‡∏≠‡∏ô‡∏î‡πâ‡∏ß‡∏¢ ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
      import { FormGroup, Validators } from '@angular/forms'; 

      export class ChatComponent {
        
        chatFormGroup: FormGroup = new FormGroup({   <---- ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®
            message: new FormControl('',Validators.required)
          });

        onSubmit(){
          let message = this.chatFormGroup.controls.message.value; <<--- get message ‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£

          alert(message)
        }

      }

    11.3 ‡πÑ‡∏ü‡∏•‡πå chat.component.html
      <form [formGroup]="chatFormGroup" (ngSubmit)="onSubmit()">   <--- ‡πÑ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠ formgroup ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á
        <input type="text" formControlName="message">   <--- ‡πÑ‡∏™‡πà formControlName ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ
        <input type="submit" value="send" [disabled]="chatFormGroup.invalid">  ‡∏ñ‡πâ‡∏≤ FormGroup ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÉ‡∏´‡πâ disable ‡∏õ‡∏∏‡πà‡∏°
      </form>
        
    *note* error ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ message ‡πÉ‡∏ô formControl
      "noPropertyAccessFromIndexSignature": false, <<---‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô false ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå tsconfig.json


--------------
 connect WebSocket
 ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå ts ‡∏Ç‡∏≠‡∏á componentChat 

 #import ‡∏Å‡πà‡∏≠‡∏ô
 import SockJS from 'sockjs-client'; 
 import * as Stomp from 'stompjs';

 ‡πÉ‡∏ô export class ChatComponent { 

  private stompClient: any; <<--- 1 ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô
  private CHANNEL ='/topic/chat'; <<--- 5 
  private ENDPOINT ='http://localhost:8080/socket';
  isConnected: boolean = false;  

  ngOnInit():void {
    this.connectWebSocket();  <<--- 6 Oninit ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å connectWebsocket
  }  

  private connectWebSocket(){ <<---2 ‡∏™‡∏£‡πâ‡∏≤‡∏á function connect
    let ws = new SockJS(this.ENDPOINT);
    this.stompClient = Stomp.over(ws); <<---- set endpoint
  
    let that = this

    this.stompClient.connect({},function(){ <<--3 connect ‡πÑ‡∏õ‡∏ó‡∏µ‡πà parametor ‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤, ‡∏ñ‡πâ‡∏≤ connecton ‡πÑ‡∏î‡πâ
      that.isConnected = true; <<-- ‡∏õ‡∏£‡∏±‡∏ö connection ‡πÄ‡∏õ‡πá‡∏ô true
      that.subscribeToGlobalChat(); <<-- 4 ‡∏ñ‡πâ‡∏≤ connect ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏ä‡πà‡∏ß‡∏¢ subscribe
    }); 
  }  

  private subscribeToGlobalChat(){
     this.stompClient.subscribe(this.CHANNEL, (message: any) =>{  <<---5 subscirbe ‡πÑ‡∏õ‡∏ó‡∏µ‡πà channal chat ‡∏ó‡∏µ‡πà‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô, ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ message ‡∏≠‡∏∞‡πÑ‡∏£‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤
      console.log('messagex:'+message); <<-- ‡πÉ‡∏´‡πâ‡πÇ‡∏ä‡∏ß‡πå message ‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏´‡∏ô‡πà‡∏≠‡∏¢
    }); 
  }


  ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ html
  <div>
    connected: {{isConnected}} <<--- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏à‡∏≤‡∏Å Typescript
  </div>


  *note* ‡∏î‡∏π error ‡∏£‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß error
  ‡∏Ñ‡∏•‡∏¥‡πä‡∏Å‡∏Ç‡∏ß‡∏≤ > inspect > console ‡∏à‡∏∞‡πÄ‡∏à‡∏≠ error
  ReferenceError: global is not defined
  ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ index.html

  ‡πÑ‡∏™‡πà‡∏ï‡∏£‡∏á body
  <script>
    if(global === undefined){
      var global = window;
    }
  </script>

 -----
 http client module  ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ call ‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô

 ----- file app.modules.ts ---
 1. import http client module ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå app.module.ts
    import { HttpClientModule } from '@angular/common/http';

 2. import HttpClientModule ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå app.module.ts
    imports: [
      BrowserModule,  
      HttpClientModule, <<--- import HttpClientModule (‡∏´‡∏•‡∏±‡∏á BrowserModule)
      AppRoutingModule,
      ReactiveFormsModule
  ],   

 ----- ‡πÑ‡∏ü‡∏•‡πå chat.service.ts -----
 3. ‡∏™‡∏£‡πâ‡∏≤‡∏á service ‡πÉ‡∏´‡∏°‡πà
    ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á $ ng generate service services/chat  <<--- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ 2 ‡πÑ‡∏ü‡∏•‡πå
    src
     > app
      > components
      > services  <--- (new service)
        chat.service.spec.ts  <<-- ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÑ‡∏ü‡∏•‡πå 1
        chat.service.ts       <--- ‡πÑ‡∏î‡πâ‡πÑ‡∏ü‡∏•‡πå 2

 4. ‡∏ó‡∏≥ injecttion constructor ‡∏Ç‡∏≠‡∏á http client ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å function ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≠‡∏•‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô 
    
    import { HttpClient } from '@angular/common/http'; <<--- ‡∏°‡∏µ import

    export class ChatService {
      constructor(private http: HttpClient) { } <<-- ‡∏ó‡∏≥ injection constructor ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô function ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞ call API ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô ‡∏ó‡∏µ‡πà‡∏°‡∏µ URL ‡πÄ‡∏õ‡πá‡∏ô localhost:8080/chat/message
    }

 5. ‡∏™‡∏£‡πâ‡∏≤‡∏á function ‡πÉ‡∏´‡∏°‡πà ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ conect ‡πÑ‡∏õ API ‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô
    postMessage(message: string){
      let url = 'http://localhost:8080/chat/message';
      let body = {
        message: message
    }
    this.http.post(url,body);
  }   


  ------ file chat.component.ts -----
  6. ‡πÄ‡∏≠‡∏≤ function postmessage ‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ chat component

    6.1 ‡πÄ‡∏û‡∏¥‡πà‡∏° constructor ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå chat.component.ts
    constructor(
      private chatService: ChatService
    ){}  

    6.2 ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ function postMessage ‡πÉ‡∏ô function OnSubmit()
    
    onSubmit(){
    let message = this.chatFormGroup.controls.message.value;
    this.chatService.postMessage(message); <<---- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ô onSubmit
    }
     
  7. ‡∏ó‡∏≥ interface ‡∏°‡∏≤‡∏ã‡∏±‡∏Å‡∏≠‡∏±‡∏ô‡∏´‡∏ô‡∏∂‡∏á‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡∏£‡∏±‡∏ö return ‡∏ä‡∏∑‡πà‡∏≠ i-chat-response.ts
      ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á ng generate interface interfaces/i-chat-response 
        export interface IChatResponse{
            
       }      
                                   ‡∏≠‡∏≠‡∏õ‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏ß‡πÄ‡∏ß‡∏≠‡∏£‡πå ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö return ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤
 8. ‡πÄ‡∏ï‡∏¥‡∏° interface ‡πÉ‡∏ô function post  V            V    (‡πÑ‡∏ü‡∏•‡πå chat.service.ts)
   postMessage(message: string): Observable<IChatResponse>{ <<--- ‡πÄ‡∏û‡∏¥‡πà‡∏° IchatResponse
    let url = 'http://localhost:8080/chat/message';
    let body = {
      message: message
    }
    return this.http.post<IChatResponse>(url,body); <<--- ‡πÄ‡∏û‡∏¥‡πà‡∏° IchatResponse ‡πÅ‡∏•‡∏∞ return
  }      

  import { Observable } from 'rxjs'; <<< import Observable ‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞ ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô‡∏Å‡πá‡∏´‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠
     

  --- ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå chat.component.ts ---
  9. subscribe ‡πÉ‡∏ô function onSubmit ‡∏ï‡∏≠‡∏ô call function postMessage ‡∏™‡πà‡∏á message ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ
  onSubmit(){
    let message = this.chatFormGroup.controls.message.value;

    this.chatService.postMessage(message).subscribe((response)=>{
      
    })
  }

  *note* ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£ return                                                      ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô
                                        subscire  ‡∏ñ‡πâ‡∏≤‡∏ú‡πà‡∏≤‡∏ô (reponse)=>{‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£},(error)=>{‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£}
                                           V      V
  this.chatService.postMessage(message).subscribe()


  *note* ‡∏î‡∏π log ‡πÄ‡∏ß‡∏•‡∏≤ error ‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡∏≠‡∏•‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏á‡∏µ‡∏¢‡∏ö
  ‡∏Ñ‡∏•‡∏¥‡πä‡∏Å‡∏Ç‡∏ß‡∏≤ > inspect ‡∏ó‡∏µ‡πà browser > Networks > ‡∏Å‡∏î‡∏ó‡∏µ‡πà POST ‡∏Ç‡∏ß‡∏≤‡∏°‡∏∑‡∏≠‡∏à‡∏∞‡∏°‡∏µ request ‡∏Å‡∏±‡∏ö response ‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏™‡πà‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏õ return ‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤


  ‡∏™‡πà‡∏á message ‡πÑ‡∏õ‡∏ó‡∏≤‡∏á ReseAPI return ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏ó‡∏≤‡∏á Socket

    10. ‡πÉ‡∏ä‡πâ interface ‡∏ó‡∏≥ array ‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ html
      10.1 ‡∏™‡∏£‡πâ‡∏≤‡∏á interface 'i-chat-messages.ts'
         export interface IChatMessage{
          from?: string
          message?: string
          created?: Date
         }

      10.2 ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏ô chat.component.ts ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏õ‡πá‡∏ô Array ‡πÑ‡∏ß‡πâ
         messages = IChatMessage[]=[];  

      10.3 ‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ chat html
         ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô tag <ul>   IChatMessage  ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ts     
         <ul>                V          V      
           <li *ngFor="let message of messages">
             {{message.from}} - {{message.message}} - {{message.created}}
           </li>                      
         </ul>    

  *note* ‡∏¢‡∏¥‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏ú‡πà‡∏≤‡∏ô API http ‡πÅ‡∏ï‡πà‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡∏ú‡πà‡∏≤‡∏ô WebSocket       

  ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô websocket

  ChatBusiness (‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á backend ‡∏ô‡∏∞)
  public void getMessage(ChatMessageRequest request){
      String destination = "/topic/chat"; // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î channel ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡πà‡∏á
      ChatMessage payload = new ChatMessage();
      payload.setFrom("user test"); // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏™‡πà‡∏á
      payload.setMessage(request.getMessage()); // ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡πà‡∏á‡∏à‡∏≤‡∏Å request
      template.convertAndSend(destination, payload); // ‡∏™‡πà‡∏á payload ‡πÑ‡∏õ‡∏¢‡∏±‡∏á "/topic/chat"
  }


  ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå chat.component.ts
  private CHANNEL ='/topic/chat'; <--- destination ‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô

  ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå chat.component.ts

  private subscribeToGlobalChat(){
    console.log('xxx4');
    this.stompClient.subscribe(this.CHANNEL, (message: any) =>{   
      
      let newMessage = JSON.parse(message.body) as IChatMessages  <<--- pass JSON
      this.messages.push(newMessage);         <--- push message ‡πÑ‡∏õ
    });
  }  

  *note* ‡∏¢‡∏¥‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏õ‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô API Rest ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÑ‡∏î‡πâ control ‡∏û‡∏ß‡∏Å permission ‡∏û‡∏ß‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ï‡πà‡∏≤‡∏á‡πÜ‡πÑ‡∏î‡πâ
   ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô socket ‡πÑ‡∏õ socket ‡∏°‡∏±‡∏ô‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏Ñ‡∏∏‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏¢‡∏≤‡∏Å ‡πÄ‡∏ä‡πà‡∏ô ‡πÅ‡∏≠‡∏û‡πÅ‡∏ä‡∏ï‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏Å‡πá‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ ‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤


   ‡∏™‡∏£‡∏∏‡∏õ websocket